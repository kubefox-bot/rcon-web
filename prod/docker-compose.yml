services:
  rcon:
    image: ghcr.io/xymox72/rcon:latest
    container_name: rcon

    ports:
      - "80:80"
      - "8443:8443"

    env_file:
      - .env

    environment:
      - RCON_DOMAIN=yourdomain.com

    volumes:
      - .env:/app/.env:ro
      - ./certs:/etc/nginx/certs:ro

    depends_on:
      - cs2

  cs2:
    image: joedwards32/cs2                              # üì¶ –≥–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑ CS2
    container_name: cs2                                 # üëà –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    restart: unless-stopped                             # üîÅ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
    ports:
      - "27015:27015/tcp"                               # üì° –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ä—Ç
      - "27015:27015/udp"
      - "27020:27020/udp"                               # üì∫ GOTV
      - "27050:27050/tcp"                               # üîê RCON
    volumes:
      - cs2-data:/home/steam/cs2-dedicated              # üíæ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –¥–∏—Å–∫
    env_file:
      - .env  


  
volumes:
  cs2-data:  # üíæ –•—Ä–∞–Ω–∏–º —Ñ–∞–π–ª—ã CS2 (–∫–∞—Ä—Ç—ã, –∫–æ–Ω—Ñ–∏–≥–∏, –ª–æ–≥–∏ –∏ —Ç.–ø.)
    driver: local
