
# üì¶ RCON UI + API ‚Äî Dev & Prod Guide

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è CS2-—Å–µ—Ä–≤–µ—Ä–æ–º —á–µ—Ä–µ–∑ RCON. –°–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω–∞ Vue 3 –∏ backend API –Ω–∞ Rust (Axum).

---

## üîß –°—Ç–µ–∫
- **Frontend:** Vue 3 + Vite
- **Backend:** Rust + Axum
- **–ü—Ä–æ–¥-—Å–±–æ—Ä–∫–∞:** Docker Compose + Nginx

---

## ‚öôÔ∏è –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### üë®‚Äçüíª Dev-—Ä–µ–∂–∏–º (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- Backend –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (`localhost:3000`)
- Frontend –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `vite` (`localhost:5173`)
- –ü—Ä–æ–∫—Å–∏ –Ω–∞ `/api` –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å —Ñ—Ä–æ–Ω—Ç–∞ –∫ –±—ç–∫–µ–Ω–¥—É
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ø–æ–ª–Ω—ã–π dev-—Å—Ç–µ–∫ —á–µ—Ä–µ–∑ `docker compose up --build` (–ø–æ—Ä—Ç `80`)

### üöÄ Prod-—Ä–µ–∂–∏–º (–ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã (frontend, backend, nginx, CS2) –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã —á–µ—Ä–µ–∑ Docker Compose
- –ü—Ä–∏–º–µ—Ä–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥-—Å–µ—Ä–≤–µ—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `prod`
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç –∏ –¥–æ–º–µ–Ω

---

## üìÅ –ü–∞–ø–∫–∞ `prod`

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–∞–ø–∫–∞ `prod`, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è **–ø—Ä–∏–º–µ—Ä–Ω—É—é –ø—Ä–æ–¥–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**:

- `prod/docker-compose.yml` ‚Äî –ø—Ä–∏–º–µ—Ä —Å–±–æ—Ä–∫–∏ backend, frontend –∏ nginx
- `nginx/nginx.http.conf` –∏ `nginx/nginx.https.conf` ‚Äî nginx-–∫–æ–Ω—Ñ–∏–≥–∏

> ‚ö†Ô∏è –≠—Ç–æ –ø—Ä–∏–º–µ—Ä –ø—Ä–æ–¥-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –û—Å–Ω–æ–≤–Ω–æ–π dev compose –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ (`docker-compose.yml`).

---

## üìÅ –ö–æ—Ä–Ω–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- `docker-compose.yml` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π Docker Compose –¥–ª—è dev
- `nginx/nginx.http.conf` –∏ `nginx/nginx.https.conf` ‚Äî —à–∞–±–ª–æ–Ω—ã nginx-–∫–æ–Ω—Ñ–∏–≥–æ–≤

---

## üë®‚Äçüíª Dev: –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ backend (–ª–æ–∫–∞–ª—å–Ω–æ)
```bash
cd backend

cargo run
```
> Backend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: `http://localhost:3000`


### 2. –ó–∞–ø—É—Å–∫ frontend
```bash
cd frontend

yarn install --immutable
yarn dev
```
> Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: `http://localhost:5173`

### 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ø–æ–ª–Ω—ã–π dev-—Å—Ç–µ–∫ —á–µ—Ä–µ–∑ Docker Compose
```bash
docker compose up --build
```
> –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞: `http://localhost`

---

## üîÅ –ü—Ä–æ–∫—Å–∏ –≤ Vite (dev)

–§–∞–π–ª `vite.config.js` —Å–æ–¥–µ—Ä–∂–∏—Ç:
```ts
server: {
  host: 'localhost',
  port: 5173,
  proxy: {
    '/api': {
      target: 'http://localhost:3000',
      changeOrigin: true,
      // –í–ê–ñ–ù–û: –±–µ–∑ rewrite
    },
  },
},
```

---

## üì° –ó–∞–ø—Ä–æ—Å—ã –∏–∑ —Ñ—Ä–æ–Ω—Ç–∞

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `axios` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ `baseURL: '/api'`,
–ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ–º:

```ts
api.post('/login', { password })
```
–∞ –Ω–µ:
```ts
api.post('/api/login', ...) // ‚ùå –±—É–¥–µ—Ç /api/api/login
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ (dev)

1. –û—Ç–∫—Ä—ã—Ç—å `http://localhost:5173`
2. –õ–æ–≥–∏–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ `POST /api/login`
3. –ü—Ä–æ–∫—Å–∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç –µ–≥–æ –Ω–∞ `localhost:3000/api/login`
4. Backend –≤–µ—Ä–Ω—ë—Ç JWT

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ PR:
```bash
cd frontend && yarn lint && yarn typecheck && yarn build
cd backend && cargo fmt -- --check && cargo clippy --all-targets --all-features -- -D warnings && cargo build
```

---

## üõ†Ô∏è –ü—Ä–æ–¥-–∑–∞–ø—É—Å–∫ (–ø—Ä–∏–º–µ—Ä)

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `3000`) –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞ —Ö–æ—Å—Ç
2. –ü—Ä–æ–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –¥–æ–º–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ nginx (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
3. –í –ø–∞–ø–∫–µ `prod`:

```bash
cd prod

docker compose up -d --pull always
```

4. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –≤–Ω–µ—à–Ω–∏–π –∞–¥—Ä–µ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä: `http://your-server:3000`

---

## üßº Troubleshooting

- –ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—à—å `404` ‚Äî –ø—Ä–æ–≤–µ—Ä—å, –Ω–µ –≤–∫–ª—é—á—ë–Ω –ª–∏ `rewrite` –≤ `vite.config.js`
- Backend –ª–æ–≥–∏—Ä—É–µ—Ç `println!(...)` –≤ `login()` ‚Äî –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ `yarn dev` –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `vite.config.js`

---

–ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–µ –∫–∞–∫ –≤ dev, —Ç–∞–∫ –∏ –≤ prod –æ–∫—Ä—É–∂–µ–Ω–∏–∏ üí™
